<meta charset="utf-8" lang="en">  <!-- this line allows UTF-8 characters in the .html file -->

                    **P04_Raytrace**


<!--

General
========

For each of your team's implementations, explain the following (where appropriate and applicable):

- details on calling conventions, input and output data formats, limitations, bugs, and special features.
- negative aspects of your program (limitations, known bugs)
- positive aspects (extensions, special features)
- describe your choice of modularization (abstractions), data structures, and algorithms
- explain anything you did that is likely to be different from what other students may have done
- justify any design decisions for which the rationale isn't immediately clear

Feel free to modify the structure of this `readme.html` file to fit the current assignment and to fit how you wish to present your findings.


!!! note: Math Typesetting
    Surround your math with double dollar signs to have [MathJax](https://www.mathjax.org/) typeset it beautifully.
    To add a tilde in math mode (using dollar signs), use the `\sim` command.
    If an exponent has more than one character, you must surround it with curly braces.
    In the example below, the exponent for $T$ must use curly braces, but they aren't required for $N$.

    $$ \sim T^{1.2} N^2 $$

    Note: Typesetting like this is optional; feel free to use plain text if you'd like.


Submission
-----------

Use any zip utility to create a zip file containing all your code, this `readme.html` document, and any additional files of evidence (ex: generated images, screenshots).
Be sure to include all of the files, so that we can reproduce all of your images by running the ray tracer.

-->



Author
=============


<!-- fill out the following table with your information -->
<!-- Note: wrapping table in div.noheader will hide the table's header -->
<!-- Note: wrapping table in div.firstcol will style the first column different from other columns -->
<div class="noheader firstcol">
                  |             
------------------|-------------
name              | Qiang Wang
computer + OS     | Apple
time to complete  | 20 hours
partner           | Jared Souther
additional help   | Dr. Denning, Wikipedia
</div>






Implementation walk-through
===================
For my section, I implemented texture mapping. The implementation is in the function <b>get_sphere_uv</b> from file
<b>P04_Raytrace_test.dart (line 28 - 56)</b>. Texture mapping means wrap around a 2-D image/surface to a 3-D object. I
chose sphere as my implementation object. Here is the screen shoot of the function:

![get_sphere_uv](source_img/code.png width="400px")

What the function does is to transfer a 2-D location in the image to a 3-D location in the sphere. Here is the link to
the wikipedia page I used when I program the math part of this project.
<a href="https://en.wikipedia.org/wiki/Spherical_coordinate_system#"><b>Wikipedia link</b></a>. There are 2 important Roman
letter variable I used: Phi and Theta.
The polar angle <b>θ (theta)</b> (angle of rotation from the initial meridian plane)
and azimuthal angle <b> φ (phi) </b>.(angle with respect to polar axis). With these 2 angles, I can calculate the 2-D locations with
a given 3-D location. Then I can find the corresponding point on the 2-d image. then return the color at that point to the point we
are going to draw on the sphere.

Here is a screen shot of the calculation from wikipedia(2D location to 3D location):

![From Wikipedia: https://en.wikipedia.org/wiki/Spherical_coordinate_system#](source_img/code1.png width="200px")

To have the inverse calculation: calculate 3D location to 2D location: we need to use <b>atan</b> and <b>asin</b>.

With a given image, the program is able to map the image on the 3D sphere. Here is one set of example:

![Mars sphere without texture mapping](source_img/mars.png width="200px")

![Mars image used](source_img/mars_gl.png width="400px")
<!--
I have added example stuff below.
Replace it with meaningful content.
-->

More Sample Images
---------------------


![Stars with soft shadow](source_img/1.png width="200px")

![Moon with soft shadow](source_img/2.png width="200px")

<b>Youtube Link For the Video:</b> https://www.youtube.com/watch?v=aAbCgbt6bOo&ab_channel=wangqiang

This video can also be found found under the folder <b>video_img</b>


Known bugs / limitations / usefulness
-------------------------
Even the image can be mapped on the sphere, the sphere surface doesn't look like well handled. For example, the bottom
and top surface of the sphere are stretched. There should be other complex algorithm can map the image around the sphere
better.

Usefulness: Since a single image can be mapped on a sphere, it will be simple to map other images on the sphere as well.
Therefore, it is possible to make a simple galaxy which includes numbers of stars.
<!--
What bugs or limitations were troublesome?
What bugs or limitations still remain?
Are these bugs or limitations a problem in your implementation, algorithm, or something else?
How do you know that you did not miss a bug?
What additional tests did you run to ensure that your implementations are correct?
-->

<!-- ... -->



Reflection
===========

<!--
Describe whatever help (if any) that you received.
Don't include readings, lectures, but do include any help from people (including course staff, lab TAs, classmates, and friends) and attribute them by name.
How did you discuss the problem with others? (ex: white-board algorithms, looking over code for bugs, looking at print out results, etc.)
-->

<!-- ... -->



<!--
Since this is an individual assignment, if you worked with a partner, assert below that the work you are turning in is your own work, and that you only did "whiteboard" work as a group.
Give one sentence explaining what each of you contributed.
If you used the code from the lab challenge, explain what is shared between you and your lab partner.
-->
So far, I have worked on "Texture Mapping" feature. The program texture mapping one image on the sphere. My goal is to
make a animation which contains multiple stars.
<!-- ... -->



<!--
Describe any serious problems you encountered.
How much time did you spend writing new code, debugging code, thinking about the algorithms, discussing with someone else, running tests, writing comments and documentation, etc.?
List any other comments here.
Feel free to provide any feedback on how much you learned from doing the assignment, and whether you enjoyed doing it.
-->

<!-- ... -->




Team Evaluation
================

<!--
Rank all team members, including yourself!
There should be a first place member; there should be a last place member.
No ties.
-->

1. Qiang Wang
2. Jared Souther


<!--
Provide any details you would like to state that helps describe why you gave the ranking order above.
You may state something like, "Everyone really did contribute equally, and I ranked everyone as above because you made me do so."
Your evaluations will not be shared with your team members.
-->
My teammate worked on the <b> Soft shadow feature</b>. I worked on the <b> Texture Mapping feature. </b> and also figure out
the how to generate the animation images, and the video. The reason I gave that order because the hours I spend on this project is way too long.
In general, my teammate has done excellent job for implementing the <b>soft shadow</b> feature. His code works perfect when I integrate our code
together.







<!--   Feel free to modify the following to fit a theme of your choosing   -->
<link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet"> <!-- a sans-serif font -->
<style>  /* A TAYLOR-INSPIRED THEME */
    body {font-family:'Open Sans',sans-serif;}
    .md a:link, .md a:visited {color:hsl(252,23.0%,44.3%); font-family:'Open Sans',sans-serif;}
    .md table.table th {background-color:hsl(252,23.0%,44.3%);}
    .md .noheader th {display:none;}
    .md .firstcol td:first-child {white-space:pre;color:white;vertical-align:top;font-weight:bold;border-color:black;background:hsl(252,23.0%,54.3%);}
    .md .firstcol tr:nth-child(even) td:first-child {background:hsl(252,23.0%,44.3%);}
</style>


<!-- ****************************** -->
<!--    Leave the content below     -->
<!-- ****************************** -->

<!-- The script and style below are added for clarity and to workaround a bug -->
<script>
    // this is a hack to workaround a bug in Markdeep+Mathjax, where
    // `&#36;`` is automatically converted to `\(`` and `\)`` too soon.
    // the following code will replace the innerHTML of all elements
    // with class "dollar" with a dollar sign.
    setTimeout(function() {
        var dollars = document.getElementsByClassName('dollar');
        for(var i = 0; i < dollars.length; i++) {
            dollars[i].innerHTML = '&#' + '36;'; // split to prevent conversion to $
        }
    }, 1000);
</script>
<style>
    /* adding some styling to <code> tags (but not <pre><code> coding blocks!) */
    :not(pre) > code {
        background-color: rgba(0,0,0,0.05);
        outline: 1px solid rgba(0,0,0,0.15);
        margin-left: 0.25em;
        margin-right: 0.25em;
    }
    /* fixes table of contents of medium-length document from looking weird if admonitions are behind */
    .md div.mediumTOC { background: white; }
    .md div.admonition { position: initial !important; }
</style>

<!--   Leave the following Markdeep formatting code, as this will format your text above to look nice in a wed browser   -->
<style class="fallback">body{visibility:hidden;white-space:pre;font-family:monospace}</style>
<script src="https://casual-effects.com/markdeep/latest/markdeep.min.js"></script>
<script>window.alreadyProcessedMarkdeep||(document.body.style.visibility="visible");</script>
